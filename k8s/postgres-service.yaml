apiVersion: v1
kind: Service
metadata:
  name: postgres
  labels:
    app: postgres
  ports:  
    - port: 5432
  selector:
    app: postgres
    
  
  # This is a headless service, which means it doesn't have a cluster IP.
  # It allows direct access to the pods without going through a load balancer.
  # This is useful for stateful applications like databases.
  # In this case, we are using a StatefulSet for PostgreSQL, which requires a headless service.
  # The clusterIP: None setting makes this a headless service.
  # This allows the StatefulSet to manage the network identity of its pods.
  # The pods will be accessible at <pod-name>.<service-name>.<namespace>.svc.cluster.local
